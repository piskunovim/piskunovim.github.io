<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/_astro/favicon.DlnF0RSw.png"><meta name="generator" content="Astro v5.4.2"><!-- Canonical URL --><link rel="canonical" href="https://piskunov.dev/ai-training-the-gemma-3-model-locally/"><!-- Primary Meta Tags --><title>AI: Training the Gemma 3 Model Locally</title><meta name="title" content="AI: Training the Gemma 3 Model Locally"><meta name="description"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://piskunov.dev/ai-training-the-gemma-3-model-locally/"><meta property="og:title" content="AI: Training the Gemma 3 Model Locally"><meta property="og:description"><meta property="og:image" content="https://piskunov.dev/syakir.webp"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://piskunov.dev/ai-training-the-gemma-3-model-locally/"><meta property="twitter:title" content="AI: Training the Gemma 3 Model Locally"><meta property="twitter:description"><meta property="twitter:image" content="https://piskunov.dev/syakir.webp"><script>
	function observeElementInViewport(element, callback) {
    	const observer = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting) {
					callback(entry.target);
					observer.disconnect();
				}
			});
    	}, { threshold: 0.1 });
    
    	observer.observe(element);
	}

	function waitForIframe(selector, callback) {
		const interval = setInterval(() => {
			const iframe = document.querySelector(selector);
			if (iframe && iframe.contentWindow) {
				clearInterval(interval);
				observeElementInViewport(iframe, () => {
					iframe.addEventListener('load', () => callback(iframe));
					callback(iframe);
				});
			}
		}, 1000);
	}

	function sendMessage(message) {
		waitForIframe("iframe.giscus-frame", (iframe) => {
			iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
		});
	}
	
	(function () {
		let theme = localStorage.getItem('theme');
		if (!theme) {
			theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
			localStorage.setItem('theme', theme);
		}


		const isDark = theme === 'dark';
		
		isDark ? document.documentElement.classList.add('dark') : document.documentElement.classList.remove('dark');

		sendMessage({
		  setConfig: {
		    theme: isDark ? 'dark_dimmed' : 'light'
		  }
		});
	})();
</script><link rel="stylesheet" href="/_astro/_slug_.CQahJ67f.css">
<style>.toc-list[data-astro-cid-awg4b4gg]::-webkit-scrollbar{width:5px}.toc-list[data-astro-cid-awg4b4gg]::-webkit-scrollbar-track{background:transparent}.toc-list[data-astro-cid-awg4b4gg]::-webkit-scrollbar-thumb{background:#eee;border-radius:5px}.dark .toc-list[data-astro-cid-awg4b4gg]::-webkit-scrollbar-thumb{background:#2e2e2e;border-radius:5px}
</style><script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[])})(window,'partytown','forward');/* Partytown 0.11.0 - MIT QwikDev */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,l,d,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(d=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(l=setTimeout(v,(null==s?void 0:s.fallbackTimeout)||1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.11.0":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<d.length;n++)(o=r.createElement("script")).innerHTML=d[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(l)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script></head> <body class="bg-white dark:bg-zinc-900 dark:text-zinc-100 pt-16 sm:pt-0"> <header id="site-header" class="flex items-center w-full transition duration-300 z-[999] border-[var(--soft-border-color)]"> <div class="container"> <nav class="flex gap-4 items-center justify-between py-3"> <h2 class="m-0"> <a href="/" class="flex gap-4 items-center text-xl font-black uppercase"></a><div class="logo"><a href="/" class="flex gap-4 items-center text-xl font-black uppercase"></a><a class="site-title" href="/">Igor Piskunov</a>  </div> </h2> <div class="flex"> <a class="p-3 dark:hidden" href="https://github.com/piskunovim" target="_blank"> <svg width="24" height="24" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"> <g id="SVGRepo_bgCarrier" stroke-width="0"></g> <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g> <g id="SVGRepo_iconCarrier"> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#000000"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" id="github-[#142]"></path> </g> </g> </g> </g> </svg> </a> <a class="p-3 hidden dark:block" href="https://github.com/piskunovim" target="_blank"> <svg width="24" height="24" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ffffff" stroke="#ffffff"> <g id="SVGRepo_bgCarrier" stroke-width="0"></g> <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g> <g id="SVGRepo_iconCarrier"> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#ffffff"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" id="github-[#142]"></path> </g> </g> </g> </g> </svg> </a> <a class="p-3 dark:hidden" href="https://fosstodon.org/@piskunovim" target="_blank"> <svg width="24" height="24" fill="#000000" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"> <g id="SVGRepo_bgCarrier" stroke-width="0"></g> <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g> <g id="SVGRepo_iconCarrier"> <path d="M30.921 10.505c0-6.943-4.547-8.975-4.547-8.975-2.292-1.057-6.229-1.5-10.323-1.531h-0.099c-4.089 0.031-8.027 0.473-10.317 1.531 0 0-4.553 2.032-4.553 8.975 0 1.588-0.031 3.489 0.021 5.505 0.167 6.792 1.245 13.479 7.521 15.14 2.896 0.767 5.38 0.928 7.38 0.819 3.631-0.204 5.667-1.297 5.667-1.297l-0.12-2.636c0 0-2.593 0.819-5.505 0.719-2.885-0.099-5.932-0.307-6.396-3.853-0.047-0.328-0.067-0.661-0.067-0.995 0 0 2.832 0.692 6.427 0.859 2.192 0.099 4.249-0.129 6.344-0.38 4.005-0.473 7.5-2.948 7.937-5.203 0.687-3.552 0.629-8.677 0.629-8.677zM25.557 19.453h-3.328v-8.161c0-1.719-0.724-2.595-2.172-2.595-1.599 0-2.401 1.037-2.401 3.084v4.469h-3.312v-4.469c0-2.047-0.803-3.084-2.401-3.084-1.448 0-2.172 0.876-2.172 2.595v8.156h-3.328v-8.401c0-1.719 0.437-3.083 1.317-4.093 0.907-1.011 2.089-1.532 3.563-1.532 1.704 0 2.995 0.657 3.849 1.969l0.828 1.391 0.828-1.391c0.855-1.312 2.145-1.969 3.849-1.969 1.473 0 2.661 0.521 3.568 1.532 0.875 1.011 1.312 2.375 1.312 4.093z"></path> </g> </svg> </a> <a class="p-3 hidden dark:block" href="https://fosstodon.org/@piskunovim" target="_blank"> <svg width="24" height="24" fill="#ffffff" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"> <g id="SVGRepo_bgCarrier" stroke-width="0"></g> <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g> <g id="SVGRepo_iconCarrier"> <path d="M30.921 10.505c0-6.943-4.547-8.975-4.547-8.975-2.292-1.057-6.229-1.5-10.323-1.531h-0.099c-4.089 0.031-8.027 0.473-10.317 1.531 0 0-4.553 2.032-4.553 8.975 0 1.588-0.031 3.489 0.021 5.505 0.167 6.792 1.245 13.479 7.521 15.14 2.896 0.767 5.38 0.928 7.38 0.819 3.631-0.204 5.667-1.297 5.667-1.297l-0.12-2.636c0 0-2.593 0.819-5.505 0.719-2.885-0.099-5.932-0.307-6.396-3.853-0.047-0.328-0.067-0.661-0.067-0.995 0 0 2.832 0.692 6.427 0.859 2.192 0.099 4.249-0.129 6.344-0.38 4.005-0.473 7.5-2.948 7.937-5.203 0.687-3.552 0.629-8.677 0.629-8.677zM25.557 19.453h-3.328v-8.161c0-1.719-0.724-2.595-2.172-2.595-1.599 0-2.401 1.037-2.401 3.084v4.469h-3.312v-4.469c0-2.047-0.803-3.084-2.401-3.084-1.448 0-2.172 0.876-2.172 2.595v8.156h-3.328v-8.401c0-1.719 0.437-3.083 1.317-4.093 0.907-1.011 2.089-1.532 3.563-1.532 1.704 0 2.995 0.657 3.849 1.969l0.828 1.391 0.828-1.391c0.855-1.312 2.145-1.969 3.849-1.969 1.473 0 2.661 0.521 3.568 1.532 0.875 1.011 1.312 2.375 1.312 4.093z"></path> </g> </svg> </a> <button class="p-3" id="themeToggle" aria-label="Theme mode"> <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg> <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon"> <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg> </button> </div> </nav> <div class="fixed top-3 w-auto max-w-full px-3 left-1/2 -translate-x-1/2 z-[999]"> <div class="flex px-2.5 bg-white/90 dark:bg-zinc-900/75 backdrop-blur-md leading-tight rounded-full border dark:border-zinc-700"> <div class="px-2.5 text-sm"> <a href="/" class="py-3 flex items-center text-zinc-600 dark:text-zinc-200 hover:text-zinc-900 dark:hover:text-zinc-50" aria-label="Home">  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-house"><path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path><path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg>  </a> </div> <div class="px-2.5 text-sm"> <a href="/about/" class="py-3 flex items-center text-zinc-600 dark:text-zinc-200 hover:text-zinc-900 dark:hover:text-zinc-50"> About </a> </div><div class="px-2.5 text-sm"> <a href="/posts/" class="py-3 flex items-center text-zinc-600 dark:text-zinc-200 hover:text-zinc-900 dark:hover:text-zinc-50"> Posts </a> </div><div class="px-2.5 text-sm"> <a href="/music/" class="py-3 flex items-center text-zinc-600 dark:text-zinc-200 hover:text-zinc-900 dark:hover:text-zinc-50"> Music </a> </div><div class="px-2.5 text-sm"> <a href="/tags/" class="py-3 flex items-center text-zinc-600 dark:text-zinc-200 hover:text-zinc-900 dark:hover:text-zinc-50"> Tags </a> </div> </div> </div> </div>  <script>
		

		const handleToggleClick = () => {
			// TODO: Investigate if possible to merge with sendMessage from BaseHead.astro 
			const sendMessage = (message) => {
				const iframe = document.querySelector('iframe.giscus-frame');
				if (!iframe) return;
				iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
			}

			const element = document.documentElement;
			element.classList.toggle('dark');

			const isDark = element.classList.contains('dark');

			sendMessage({
				setConfig: {
					theme: isDark ? 'dark_dimmed' : 'light'
				}
			});

			localStorage.setItem('theme', isDark ? 'dark' : 'light');
		};
		document.getElementById('themeToggle')?.addEventListener('click', handleToggleClick);
	</script> </header> <div class="py-8 min-h-[calc(100vh-160px)]">  <div class="container lg:flex gap-10"> <main class="overflow-hidden grow"> <article> <div class="prose dark:prose-invert
  prose-h1:font-[900] prose-h1:my-4 prose-h1:text-2xl sm:prose-h1:text-[2rem]/[1.3]
  prose-h2:mt-6 prose-h2:mb-3 prose-h2:text-2xl sm:prose-h2:text-3xl prose-h2:font-extrabold
  prose-h3:mt-5 prose-h3:mb-2 prose-h3:text-xl sm:prose-h3:text-2xl
  prose-h4:mt-3 prose-h4:mb-0 prose-img:rounded-xl prose-h3:target:pt-20">  <div> <h1 class="!my-1 leading-tight">AI: Training the Gemma 3 Model Locally</h1> <div class="text-sm font-[500] mt-2 sm:mt-0 py-1 md:text-right flex flex-col sm:flex-row gap-3 sm:justify-between sm:items-center"> <div class="flex gap-2"> <a class="border border-zinc-300 dark:border-zinc-700 rounded-2xl
                          text-sm text-zinc-700 dark:text-zinc-300 no-underline px-2 py-0.5
                          transition-all duration-700
                        hover:border-zinc-700 dark:hover:border-zinc-300" href="/tags/ai"> ai </a><a class="border border-zinc-300 dark:border-zinc-700 rounded-2xl
                          text-sm text-zinc-700 dark:text-zinc-300 no-underline px-2 py-0.5
                          transition-all duration-700
                        hover:border-zinc-700 dark:hover:border-zinc-300" href="/tags/notes"> notes </a><a class="border border-zinc-300 dark:border-zinc-700 rounded-2xl
                          text-sm text-zinc-700 dark:text-zinc-300 no-underline px-2 py-0.5
                          transition-all duration-700
                        hover:border-zinc-700 dark:hover:border-zinc-300" href="/tags/pblog"> pblog </a> </div> <div> Published on <strong><time datetime="2025-04-02T00:00:00.000Z"> Apr 02, 2025 </time></strong> </div> </div> </div> <div class="py-3 overflow-hidden">  </div> <p>As a software developer, I’ve always been excited to tinker with cutting-edge AI models. When Google DeepMind released Gemma 3—a family of lightweight, open-source models ranging from 1 billion to 27 billion parameters—I couldn’t wait to get my hands on it. With multimodal capabilities, a 128K token context window, and support for over 140 languages, it’s a compelling package. I decided to test it on my local machine: an Intel Core i9-10900K (10 cores, 20 threads), 64GB of RAM, and an NVIDIA 4060Ti with 8GB VRAM. Here’s what I learned about running and training Gemma 3 locally, including my hardware’s strengths, its limits, and some alternatives worth considering.</p>
<hr>
<h2 id="my-setup-and-the-1b-model-a-smooth-ride">My Setup and the 1B Model: A Smooth Ride</h2>
<p>My rig is a solid workhorse: the i9-10900K’s 20 threads and 64GB of RAM give me plenty of CPU power and memory to play with, while the 4060Ti’s 8GB VRAM handles lighter GPU tasks. I started with Gemma 3’s 1B parameter model, using Hugging Face Transformers and 4-bit quantization (shoutout to Unsloth) to keep it lean. Inference was a breeze—around 10-15 tokens per second on the GPU—and fine-tuning on a small dataset was no problem at all.</p>
<p>With 64GB of RAM, I could offload some work to the CPU if needed, but the 1B model fit comfortably within my 8GB VRAM for inference. The i9-10900K’s 20 threads also made preprocessing and data loading snappy, which is a nice bonus. For lightweight NLP tasks or quick experiments, this setup crushed it. It felt like a perfect match—proof you don’t need a top-tier GPU to enjoy modern AI.</p>
<hr>
<h2 id="the-4b-model-vram-strikes-back">The 4B Model: VRAM Strikes Back</h2>
<p>Next, I tackled the 4B parameter model, which adds multimodal capabilities (text and images via the SigLIP vision encoder). Here’s where my 8GB VRAM became the bottleneck. Inference crawled to 2-3 tokens per second, even with 4-bit quantization. Fine-tuning? That was a non-starter. The gradients, optimizer states, and activations ballooned beyond what my GPU could handle.</p>
<p>The good news? My 64GB of RAM and 20-thread CPU came to the rescue—sort of. By offloading parts of the model to system RAM and leaning on the i9-10900K, I could technically run inference and fine-tuning. But it was slow. Swapping data between RAM and VRAM added latency, and the GPU still choked on the memory demands. I’d estimate you need 12-16GB of VRAM for smooth 4B inference and 20GB+ for fine-tuning without heavy offloading. My setup could limp along, but it wasn’t fun.</p>
<p>The 12B and 27B models were a pipe dream. The 12B needs ~27GB of VRAM in full precision, and the 27B demands 62GB+ for text tasks. Even with 64GB of RAM, the 8GB VRAM cap made these models impractical without a GPU upgrade.</p>
<hr>
<h2 id="macbook-owners-and-unified-memory-envy">MacBook Owners and Unified Memory Envy</h2>
<p>MacBook users with unified memory (16GB or more) have an edge here. Their CPU and GPU share a single memory pool, effectively bypassing the VRAM limit I hit. Friends with M2 or M3 MacBooks say they can run the 4B model for inference and even fine-tune it with decent performance—something my 4060Ti struggled with despite my 64GB of RAM. For larger models like 12B, they’d still need 64GB+ of unified memory, but it’s a happier experience overall. I’ll stick to my PC, though—20 threads and 64GB of RAM still give me plenty to work with.</p>
<hr>
<h2 id="scaling-up-servers-with-20gb-vram">Scaling Up: Servers with 20GB VRAM</h2>
<p>For serious training on the bigger Gemma 3 models, more VRAM is the answer. A server with 20GB—like an NVIDIA RTX 3090 or A4000—can handle the 4B model easily and the 12B with quantization. You can rent cloud servers with this spec for around $200/month (depending on the provider). With my i9-10900K and 64GB of RAM already in play, a GPU upgrade to 20GB VRAM would turn my rig into a beast for local training. Here’s a rough VRAM guide:</p>
<ul>
<li><strong>1B Model</strong>: 2-4GB (inference), 8-10GB (fine-tuning)</li>
<li><strong>4B Model</strong>: 8-12GB (inference), 16-20GB (fine-tuning)</li>
<li><strong>12B Model</strong>: 20-27GB (inference), 40GB+ (fine-tuning)</li>
<li><strong>27B Model</strong>: 50-70GB (inference), 100GB+ (fine-tuning)</li>
</ul>
<p>Tools like LoRA or QLoRA can cut VRAM needs, and my 64GB of RAM helps with offloading, but VRAM remains the limiting factor.</p>
<hr>
<h2 id="the-api-option-pros-and-cons">The API Option: Pros and Cons</h2>
<p>If local training feels like too much, APIs are a solid alternative. Services like NVIDIA’s API Catalog or Hugging Face’s endpoints offer Gemma 3 access for ChatGPT-like pricing ($0.50-$2 per million tokens). Here’s the breakdown:</p>
<h3 id="pros">Pros:</h3>
<ul>
<li><strong>Cost</strong>: Cheaper than renting hardware for occasional use.</li>
<li><strong>Scalability</strong>: No VRAM or compute worries—scale on demand.</li>
<li><strong>Ease</strong>: No setup hassles, just an API call.</li>
</ul>
<h3 id="cons">Cons:</h3>
<ul>
<li><strong>Security</strong>: Your data goes off-site, a no-go for sensitive work.</li>
<li><strong>Latency</strong>: Network delays vs. local speed.</li>
<li><strong>Control</strong>: You’re tied to the provider’s setup.</li>
</ul>
<p>With my beefy CPU and RAM, I prefer local control, but APIs are great for quick tests or small projects.</p>
<hr>
<h2 id="multilingual-adventures-with-quirks">Multilingual Adventures (With Quirks)</h2>
<p>Gemma 3 boasts support for 140+ languages, so I tested it with English and Russian. It handled both well enough, but Cyrillic characters sometimes got swapped for Latin ones (e.g., “п” became “p”). It’s fun to play with, and my 20-thread CPU made tokenization and preprocessing fast, but it’s not production-ready for non-English languages. For English tasks, it’s a champ.</p>
<hr>
<h2 id="final-thoughts-the-joy-of-training">Final Thoughts: The Joy of Training</h2>
<p>Training Gemma 3 locally has been a blast. The 1B model ran beautifully on my i9-10900K, 64GB RAM, and 4060Ti combo—fast inference and easy fine-tuning. The 4B model pushed my 8GB VRAM to its limits, though the CPU and RAM kept it workable (if a bit slow). Bigger models need more VRAM than I’ve got, but a $200 server rental or API could easily bridge that gap. MacBook users might benefit from unified memory, but my rig’s raw power still shines for smaller tasks.</p>
<p>For developers with a similar setup, Gemma 3 is a great playground—just be mindful of your VRAM ceiling. I’m hooked on experimenting with it, and I’d love to hear how it’s going for you. What’s your setup like? Got any tricks for squeezing more out of Gemma 3? Let’s swap notes!</p>  </div> <script id="giscus-script" src="https://giscus.app/client.js" data-repo="piskunovim/piskunovim" data-repo-id="MDEwOlJlcG9zaXRvcnkxNTYxOTUxMjI=" data-category="Announcements" data-category-id="DIC_kwDOCU9ZMs4Cn3OG" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async></script> </article> </main> <div class="shrink-0 w-[280px] hidden md:block"> <div class="mb-4"> <div class="about-the-author py-4 border-b"> <h3 class="font-extrabold uppercase mb-4 text-sm">About the Author</h3> <div class="flex gap-4 items-center leading-tight not-prose"> <a href="https://github.com/piskunovim" target="_blank" rel="noopener noreferrer" class="rounded-full overflow-hidden shrink-0 w-[70px] h-[70px]"> <img src="/_astro/piskunovim.CTV1fGtu_Zf84cK.webp" data-image-component="true" alt="Igor Piskunov" width="1280" height="1280" loading="lazy" decoding="async"> </a> <div> <div> <a href="https://github.com/piskunovim" class="block font-bold text-inherit hover:text-[var(--link-color)]" target="_blank" rel="noopener noreferrer">
Igor Piskunov
</a> </div> <small class="avatar__subtitle">Software Engineer</small> </div> </div> </div> </div> <nav class="toc sticky top-4 py-2 lg:-ml-3" data-astro-cid-awg4b4gg><h3 class="font-extrabold uppercase mb-1 px-3 text-sm" data-astro-cid-awg4b4gg>On This Page</h3><ul class="toc-list max-h-[calc(100vh-70px)] overflow-auto text-[.825rem] text-[var(--color-content-secondary)]" data-astro-cid-awg4b4gg><li data-astro-cid-awg4b4gg><a class="block font-bold py-1.5 px-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#my-setup-and-the-1b-model-a-smooth-ride" data-astro-cid-awg4b4gg>My Setup and the 1B Model: A Smooth Ride</a></li><li data-astro-cid-awg4b4gg><a class="block font-bold py-1.5 px-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#the-4b-model-vram-strikes-back" data-astro-cid-awg4b4gg>The 4B Model: VRAM Strikes Back</a></li><li data-astro-cid-awg4b4gg><a class="block font-bold py-1.5 px-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#macbook-owners-and-unified-memory-envy" data-astro-cid-awg4b4gg>MacBook Owners and Unified Memory Envy</a></li><li data-astro-cid-awg4b4gg><a class="block font-bold py-1.5 px-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#scaling-up-servers-with-20gb-vram" data-astro-cid-awg4b4gg>Scaling Up: Servers with 20GB VRAM</a></li><li data-astro-cid-awg4b4gg><a class="block font-bold py-1.5 px-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#the-api-option-pros-and-cons" data-astro-cid-awg4b4gg>The API Option: Pros and Cons</a><ul data-astro-cid-awg4b4gg><li data-astro-cid-awg4b4gg><a class="block py-1.5 pl-6 pr-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#pros" data-astro-cid-awg4b4gg>Pros:</a></li><li data-astro-cid-awg4b4gg><a class="block py-1.5 pl-6 pr-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#cons" data-astro-cid-awg4b4gg>Cons:</a></li></ul></li><li data-astro-cid-awg4b4gg><a class="block font-bold py-1.5 px-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#multilingual-adventures-with-quirks" data-astro-cid-awg4b4gg>Multilingual Adventures (With Quirks)</a></li><li data-astro-cid-awg4b4gg><a class="block font-bold py-1.5 px-3 border-l border-transparent text-inherit leading-tight text-zinc-700 dark:text-zinc-300" href="#final-thoughts-the-joy-of-training" data-astro-cid-awg4b4gg>Final Thoughts: The Joy of Training</a></li></ul></nav> </div> </div>  </div> <footer class="container mt-8"> <div class="justify-center flex gap-4 py-8 prose dark:prose-invert text-sm"> <a href="/feed.xml">RSS</a> </div> <div class="py-4 border-t dark:border-t-zinc-700"> <div class="md:flex text-sm text-zinc-500 dark:text-zinc-300 prose dark:prose-invert justify-between"> <div>Copyright © 2025 Igor Piskunov.</div> </div> </div> </footer> <!-- Google tag (gtag.js) -->  <script type="text/partytown" async src="https://www.googletagmanager.com/gtag/js?id=G-7PD4495X5D"></script> <script type="text/partytown">(function(){const GTAG_MEASUREMENT_ID = "G-7PD4495X5D";

          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());

          gtag('config', GTAG_MEASUREMENT_ID);
        })();</script>  </body> </html> <script async>
	const anchors = document.querySelectorAll('.prose h2[id], .prose h3[id]');
	const links = document.querySelectorAll('nav.toc ul li a');

	function observeToc() {
		if (typeof anchors != 'undefined' && anchors != null && typeof links != 'undefined' && links != null) {
			let scrollTop = window.scrollY;

			// highlight the last scrolled-to: set everything inactive first
			for (const link of links) {
				link.classList.add('border-transparent', 'text-inherit');
				link.classList.remove('bg-[var(--background-surface-color)]', 'border-[var(--soft-border-color)]', 'text-[var(--link-color)]');
			}
			// then iterate backwards, on the first match highlight it and break
			for (var i = anchors.length - 1; i >= 0; i--) {
				if (scrollTop > anchors[i].offsetTop - 80) {
					links[i].classList.remove('border-transparent', 'text-inherit');
					links[i].classList.add('bg-[var(--background-surface-color)]', 'border-[var(--soft-border-color)]', 'text-[var(--link-color)]');
					break;
				}
			}
		}
	}

	window.addEventListener('scroll', (event) => {
		observeToc(event);
	});
	window.addEventListener('hashchange', (event) => {
		observeToc(event);
	});
</script>